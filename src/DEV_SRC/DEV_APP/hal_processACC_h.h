/*
*********************************************************************************************************
*                                     MICIRUM BOARD SUPPORT PACKAGE
*
*                            (c) Copyright 2007-2008; Micrium, Inc.; Weston, FL
*
*                   All rights reserved.  Protected by international copyright laws.
*                   Knowledge of the source code may not be used to write a similar
*                   product.  This file may only be used in accordance with a license
*                   and should not be redistributed in any way.
*********************************************************************************************************
*/

/*
*********************************************************************************************************
*
*                                        APPLICATION CODE
*
*                                     		hal_ProcessACC_h.h
*                                              with the
*                                   			 Y05D Board
*
* Filename      : hal_ProcessACC_h.h
* Version       : V1.00
* Programmer(s) : Felix
*********************************************************************************************************
*/

/*
*********************************************************************************************************
*                                                 MODULE
*
* Note(s) : (1) This header file is protected from multiple pre-processor inclusion through use of the
*               BSP present pre-processor macro definition.
*********************************************************************************************************
*/

#ifndef  HAL_PROCESSACC_H_H
#define  HAL_PROCESSACC_H_H

/*
*********************************************************************************************************
*                                                 EXTERNS
*********************************************************************************************************
*/

#ifdef   HAL_PROCESSACC_GLOBLAS
#define  HAL_PROCESSACC_EXT
#else
#define  HAL_PROCESSACC_EXT  extern
#endif

/*
*********************************************************************************************************
*                                              INCLUDE FILES
*********************************************************************************************************
*/

#include 	"stm32f10x.h"



/*
*********************************************************************************************************
*                                                 DEFINES
*********************************************************************************************************
*/
#define	 DEF_ACC_RAPID_UP					((u8)0xA0)		// 急加速
#define	 DEF_ACC_RAPID_BRAKE			((u8)0xA1)		// 急减速
#define	 DEF_ACC_RAPID_ROLL				((u8)0xA2)		// 翻滚
#define	 DEF_ACC_RAPID_CRASH			((u8)0xA3)		// 碰撞

#define  ACC_ThreShold_Low  			80				    //姿态调整下门限
#define  ACC_ThreShold_High 			600	   				//姿态调整上门限

/*
*********************************************************************************************************
*                                               TYPE DEFINES
*********************************************************************************************************
*/

/*
*********************************************************************************************************
*                                               DATA TYPES
*********************************************************************************************************
*/

#define	DEF_ACC_LB_NUM					  	(5)             	// 加速度平滑点数
typedef struct	tag_AccApp_Def
{
		s16		X_ACC_Buf[DEF_ACC_LB_NUM];
		s16		Y_ACC_Buf[DEF_ACC_LB_NUM];
		s16		Z_ACC_Buf[DEF_ACC_LB_NUM];
	
		s16		X_ACC_PingHua;
		s16		Y_ACC_PingHua;
		s16		Z_ACC_PingHua;
							
}AccApp_TypeDef;
	
/*
*********************************************************************************************************
*                                            GLOBAL VARIABLES
*********************************************************************************************************
*/

HAL_PROCESSACC_EXT		AccApp_TypeDef		s_Acc;			// 用于计算驾驶行为的应用数据结构

			
/*
*********************************************************************************************************
*                                                 MACRO'S
*********************************************************************************************************
*/


/*
*********************************************************************************************************
*                                           FUNCTION PROTOTYPES
*********************************************************************************************************
*/

// 驾驶行为判断接口函数///////////////////////////////////////////////////////////////////
u8 			HAL_Calculate_Main 				(s16 X,	s16 Y,	s16 Z,  u8 *pucCarAngleFlag);

// 移动判断接口函数///////////////////////////////////////////////////////////////////
u8			HAL_AccMoveCheckProcess		(vu16 *intTimes,	u16 sMDuration,	u16 eMDuration);


/*
*********************************************************************************************************
*                                               MODULE END
*********************************************************************************************************
*/

#endif                                                          /* End of module include.                               */
